{% extends 'layouts/base.njk' %}
{%- css %}
  {% include "_src/assets/css/single.css" %}
  {% include "_src/assets/css/meta.css" %}
{% endcss %}
{% block header %}
  {% include "partials/header.njk" %}
{% endblock %}

{% block content %}
  <article class="note h-entry">
    <div class="note-header">
      <h1 class="title">{{ page.date | readableDate }}</h1>
    </div>
    <div class="note-content stack e-content">
      {{ content | safe }}
      {# If we have more tags than just "articles" or "notes" #}
      {% if tags.length > 1 %}
        <div class="meta">
          {% set lastTag = tags | filterTagList | last %}
          <div class="tags">
            Tagged&nbsp;
            <ul class="tag-list">
              {% for tag in tags | filterTagList %}
                {% if tag != "articles" or "notes" %}
                  {% set tagUrl %}/tag/{{ tag | slugify }}/{% endset %}
                  <li><a href="{{ tagUrl | url }}" class="tag p-category">{{ tag }}</a>{% if tag != lastTag %},&nbsp;{% endif %}</li>
                {%- endif -%}
              {% endfor %}
            </ul>
          </div>
        </div>
      {%- endif -%}
      <div class="meta">
        <span class="date"> Published on <time class="dt-published" datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time> <span class="author sr-only h-card p-author">by {{ metadata.author.name }}</span></span>
      </div>
    </div>
  </article>
{% endblock %}

{% block footer %}
  {% include "partials/footer.njk" %}
{% endblock %}
